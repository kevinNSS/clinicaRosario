<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <f:view contentType="text/html"></f:view>
        <f:event type="preRenderView" listener="#{verificacionController.verificarSesion()}"/>
        <title>Pacientes</title>
        <h:outputStylesheet library = "css" name = "bootstrap.css"/>
        <h:outputStylesheet library = "css" name = "buttons.css"/>
    </h:head>
    <h:body>
        <ui:insert name="header">
            <ui:include src="header.xhtml"/>
        </ui:insert>
        <br/>
        <h2><h:outputLabel value="PACIENTES" style="padding-left: 30px;"/></h2>
        <hr/>
        <div class="container-fluid">
            <h:form>
                <p:growl id="growl" life="5000" showDetail="true" sticky="true" escape="false"/>  
                <h:commandButton style="float: right;" value="Tabla de Pacientes" action="#{pacientesController.mostrarTabla()}" rendered="#{(pacientesController.mostrarTablaPaciente == false) and (loginController.tipoUsuario == 'secretaria') or (pacientesController.mostrarTablaPaciente == false) and (loginController.tipoUsuario == 'regente')}" class="buttonNew"/>
                <h:commandButton  style="float: right;" value="Agregar Paciente" action="#{pacientesController.nuevoPaciente()}" rendered="#{(pacientesController.mostrarFormIngreso == false) and (loginController.tipoUsuario == 'secretaria') or (pacientesController.mostrarFormIngreso == false) and (loginController.tipoUsuario == 'regente')}" class="buttonNew"/>
            </h:form>
            <br/><br/><br/>
            <ui:insert name="tablaPacientes">
                <ui:include src="pages/pacientes/tablaPacientes.xhtml"/>
            </ui:insert>
            <!-- FORMULARIO DE INGRESO DE PACIENTES-->
            <ui:insert name="ingresoPacientes">
                <ui:include src="pages/pacientes/newPacientes.xhtml"/>
            </ui:insert>

            <!--FORMULARIO PARA EDITAR INFORMACIÃ“N DE PACIENTES-->
            <ui:insert name="editarPacientes">
                <ui:include src="pages/pacientes/editPacientes.xhtml"/>
            </ui:insert>
        </div>
    </h:body>
</html>

